var L=document.querySelector(".sidebar"),g=document.querySelectorAll(".new-item");var f=document.querySelector(".button-date"),m=f.querySelector(".button-date__title"),p=f.querySelector(".button-date__arrow--left"),k=f.querySelector(".button-date__arrow--right"),q=document.querySelector(".dashboard .list-with-tasks__wrapper"),a=new Date;_();n();k.addEventListener("click",function(){k.classList.contains("button-date__arrow--disabled")||(a.setDate(a.getDate()+1),_(),n())});p.addEventListener("click",function(){p.classList.contains("button-date__arrow--disabled")||(a.setDate(a.getDate()-1),_(),n())});function _(){let t=new Date,e=new Date(t);e.setDate(e.getDate()+1),r(a,t)?m.textContent="\u0421\u0435\u0433\u043E\u0434\u043D\u044F":r(a,e)?m.textContent="\u0417\u0430\u0432\u0442\u0440\u0430":m.textContent=C(a),b()}function b(){let t=new Date,e="button-date__arrow--disabled";p.classList.toggle(e,r(a,t)),k.classList.toggle(e,w(a,t))}function n(){let t=q.querySelectorAll(".task"),e=/(\d+)\s+(\S+)/;t.forEach(s=>{let c=s.querySelector(".task__data").textContent;if(c.trim()==="\u0411\u0435\u0437 \u0441\u0440\u043E\u043A\u0430"){s.classList.add("task--hidden");return}if(s.classList.contains("task--completed")){s.classList.add("task--hidden");return}let[,i,l]=c.match(e),d=new Date(a.getFullYear(),v(l),parseInt(i));r(a,d)?s.classList.remove("task--hidden"):s.classList.add("task--hidden")})}function C(t){let e={weekday:"long",month:"long",day:"numeric"};return t.toLocaleDateString("ru-RU",e)}function r(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}function w(t,e){let s=new Date(e.getFullYear(),e.getMonth(),e.getDate()+7);return t>=s}function v(t){return["\u042F\u043D\u0432","\u0424\u0435\u0432","\u041C\u0430\u0440","\u0410\u043F\u0440","\u041C\u0430\u0439","\u0418\u044E\u043D","\u0418\u044E\u043B","\u0410\u0432\u0433","\u0421\u0435\u043D","\u041E\u043A\u0442","\u041D\u043E\u044F","\u0414\u0435\u043A"].indexOf(t)}var x=document.querySelectorAll(".tasks__header-button"),D=document.querySelector(".tasks .list-with-tasks__wrapper");x.forEach(t=>{t.addEventListener("click",function(){x.forEach(e=>e.classList.remove("tasks__header-button--active")),t.classList.add("tasks__header-button--active"),h(t.textContent.trim())})});function h(t){D.querySelectorAll(".task").forEach(s=>{t==="\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043D\u044B\u0435"?s.classList.contains("task--completed")?s.classList.remove("task--hidden"):s.classList.add("task--hidden"):t==="\u0410\u043A\u0442\u0438\u0432\u043D\u044B\u0435"?s.classList.contains("task--completed")||s.classList.contains("task--expired")?s.classList.add("task--hidden"):s.classList.remove("task--hidden"):t==="\u041F\u0440\u043E\u0441\u0440\u043E\u0447\u0435\u043D\u043D\u044B\u0435"&&(s.classList.contains("task--expired")?s.classList.remove("task--hidden"):s.classList.add("task--hidden"))})}var E=document.querySelectorAll(".nav__item a"),A=document.querySelectorAll(".nav__link"),I=document.querySelector(".app-header__title"),B=document.querySelectorAll(".manager-item");E.forEach(t=>{t.addEventListener("click",e=>{e.preventDefault(),B.forEach(o=>{o.innerHTML=""}),document.querySelectorAll(".tasks__header-button").forEach(o=>{o.classList.remove("tasks__header-button--active"),o.textContent.trim()==="\u0410\u043A\u0442\u0438\u0432\u043D\u044B\u0435"&&o.classList.add("tasks__header-button--active");let T=document.querySelector(".tasks__header-button--active").textContent.trim();h(T)}),n();let c=document.querySelectorAll(".task"),i=document.querySelectorAll(".project");c.forEach(o=>{o.classList.remove("task--edit")}),i.forEach(o=>{o.classList.remove("project--edit")}),g.forEach(o=>{o.classList.remove("new-item--disabled")}),A.forEach(o=>{o.classList.remove("nav__link--active")}),t.classList.add("nav__link--active"),L.classList.remove("sidebar--open");let l=t.textContent;I.textContent=l;let d=t.getAttribute("data-section"),y=document.querySelectorAll(".section");for(var u=0;u<y.length;u++)y[u].style.display="none";let S=document.getElementById(d);S&&(S.style.display="block")})});
